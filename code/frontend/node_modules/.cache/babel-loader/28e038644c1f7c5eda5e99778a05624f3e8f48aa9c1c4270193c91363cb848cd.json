{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"h1\", null, \"客戶頁面\", -1 /* HOISTED */)), _createCommentVNode(\" 顯示所有客戶 \"), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.customers, customer => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: customer.id\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"p\", null, \"姓名: \" + _toDisplayString(customer.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"電子郵件: \" + _toDisplayString(customer.email), 1 /* TEXT */), _createElementVNode(\"p\", null, \"創建日期: \" + _toDisplayString(customer.created_at), 1 /* TEXT */), _createElementVNode(\"p\", null, \"過去一年的交易金額: \" + _toDisplayString(customer.total_amount_last_year), 1 /* TEXT */), _createCommentVNode(\" 編輯按鈕 \"), _createElementVNode(\"button\", {\n      onClick: $event => $options.editCustomer(customer)\n    }, \"編輯\", 8 /* PROPS */, _hoisted_1)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 新增客戶表單 \"), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"h2\", null, \"新增客戶\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.addCustomer && $options.addCustomer(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"姓名:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newCustomer.name = $event),\n    id: \"name\",\n    type: \"text\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCustomer.name]])]), _createElementVNode(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"電子郵件:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newCustomer.email = $event),\n    id: \"email\",\n    type: \"email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCustomer.email]])]), _cache[8] || (_cache[8] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"新增客戶\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]), _createCommentVNode(\" 編輯客戶表單 \"), $data.editingCustomer ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"編輯客戶資料\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.updateCustomer && $options.updateCustomer(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"editName\"\n  }, \"姓名:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editingCustomer.name = $event),\n    id: \"editName\",\n    type: \"text\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editingCustomer.name]])]), _createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"editEmail\"\n  }, \"電子郵件:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editingCustomer.email = $event),\n    id: \"editEmail\",\n    type: \"email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editingCustomer.email]])]), _cache[12] || (_cache[12] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"更新客戶\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","_createCommentVNode","_Fragment","_renderList","$data","customers","customer","id","_toDisplayString","name","email","created_at","total_amount_last_year","onClick","$event","$options","editCustomer","_hoisted_1","onSubmit","_cache","_withModifiers","args","addCustomer","for","newCustomer","type","required","editingCustomer","_hoisted_2","updateCustomer"],"sources":["/Users/zana/Pretest/code/frontend/src/components/CustomerPage.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>客戶頁面</h1>\n\n    <!-- 顯示所有客戶 -->\n    <ul>\n      <li v-for=\"customer in customers\" :key=\"customer.id\">\n        <div>\n          <p>姓名: {{ customer.name }}</p>\n          <p>電子郵件: {{ customer.email }}</p>\n          <p>創建日期: {{ customer.created_at }}</p>\n          <p>過去一年的交易金額: {{ customer.total_amount_last_year }}</p>\n\n          <!-- 編輯按鈕 -->\n          <button @click=\"editCustomer(customer)\">編輯</button>\n        </div>\n      </li>\n    </ul>\n\n    <!-- 新增客戶表單 -->\n    <div>\n      <h2>新增客戶</h2>\n      <form @submit.prevent=\"addCustomer\">\n        <div>\n          <label for=\"name\">姓名:</label>\n          <input v-model=\"newCustomer.name\" id=\"name\" type=\"text\" required />\n        </div>\n        <div>\n          <label for=\"email\">電子郵件:</label>\n          <input v-model=\"newCustomer.email\" id=\"email\" type=\"email\" required />\n        </div>\n        <button type=\"submit\">新增客戶</button>\n      </form>\n    </div>\n\n    <!-- 編輯客戶表單 -->\n    <div v-if=\"editingCustomer\">\n      <h2>編輯客戶資料</h2>\n      <form @submit.prevent=\"updateCustomer\">\n        <div>\n          <label for=\"editName\">姓名:</label>\n          <input v-model=\"editingCustomer.name\" id=\"editName\" type=\"text\" required />\n        </div>\n        <div>\n          <label for=\"editEmail\">電子郵件:</label>\n          <input v-model=\"editingCustomer.email\" id=\"editEmail\" type=\"email\" required />\n        </div>\n        <button type=\"submit\">更新客戶</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      customers: [],\n      newCustomer: {\n        name: \"\",\n        email: \"\",\n      },\n      editingCustomer: null, // 用來存儲正在編輯的客戶\n    };\n  },\n  mounted() {\n    this.fetchCustomers();\n  },\n  methods: {\n    // 獲取所有客戶資料\n    async fetchCustomers() {\n      try {\n        const response = await axios.get(\"http://localhost:8080/customers\");\n        this.customers = response.data;\n      } catch (error) {\n        console.error(\"無法取得客戶資料\", error);\n      }\n    },\n\n    // 編輯客戶資料\n    editCustomer(customer) {\n      this.editingCustomer = { ...customer }; // 將該客戶的資料拷貝到編輯表單中\n    },\n\n    // 更新客戶資料\n    async updateCustomer() {\n      try {\n        await axios.put(`http://localhost:8080/customers/${this.editingCustomer.id}`, this.editingCustomer);\n        this.fetchCustomers(); // 更新客戶列表\n        this.editingCustomer = null; // 重置編輯狀態\n      } catch (error) {\n        console.error(\"更新客戶資料失敗\", error);\n      }\n    },\n\n    // 新增客戶資料\n    async addCustomer() {\n      try {\n        await axios.post(\"http://localhost:8080/customers\", this.newCustomer);\n        this.fetchCustomers(); // 更新客戶列表\n        this.newCustomer = { name: \"\", email: \"\" }; // 清空新增表單\n      } catch (error) {\n        console.error(\"新增客戶資料失敗\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 可以根據需求設計頁面的樣式 */\nform {\n  margin-top: 20px;\n}\n\ninput {\n  margin-right: 10px;\n}\n\nbutton {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":";mBAAA;;EAAAA,GAAA;AAAA;;uBACEC,mBAAA,CAiDM,c,4BAhDJC,mBAAA,CAAa,YAAT,MAAI,sBAERC,mBAAA,YAAe,EACfD,mBAAA,CAYK,c,kBAXHD,mBAAA,CAUKG,SAAA,QAhBXC,WAAA,CAM6BC,KAAA,CAAAC,SAAS,EAArBC,QAAQ;yBAAnBP,mBAAA,CAUK;MAV8BD,GAAG,EAAEQ,QAAQ,CAACC;QAC/CP,mBAAA,CAQM,cAPJA,mBAAA,CAA8B,WAA3B,MAAI,GAAAQ,gBAAA,CAAGF,QAAQ,CAACG,IAAI,kBACvBT,mBAAA,CAAiC,WAA9B,QAAM,GAAAQ,gBAAA,CAAGF,QAAQ,CAACI,KAAK,kBAC1BV,mBAAA,CAAsC,WAAnC,QAAM,GAAAQ,gBAAA,CAAGF,QAAQ,CAACK,UAAU,kBAC/BX,mBAAA,CAAuD,WAApD,aAAW,GAAAQ,gBAAA,CAAGF,QAAQ,CAACM,sBAAsB,kBAEhDX,mBAAA,UAAa,EACbD,mBAAA,CAAmD;MAA1Ca,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY,CAACV,QAAQ;OAAG,IAAE,iBAdpDW,UAAA,E;oCAmBIhB,mBAAA,YAAe,EACfD,mBAAA,CAaM,c,0BAZJA,mBAAA,CAAa,YAAT,MAAI,sBACRA,mBAAA,CAUO;IAVAkB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAtBnBC,cAAA,KAAAC,IAAA,KAsB6BN,QAAA,CAAAO,WAAA,IAAAP,QAAA,CAAAO,WAAA,IAAAD,IAAA,CAAW;MAChCrB,mBAAA,CAGM,c,0BAFJA,mBAAA,CAA6B;IAAtBuB,GAAG,EAAC;EAAM,GAAC,KAAG,sB,gBACrBvB,mBAAA,CAAmE;IAzB7E,uBAAAmB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAyB0BV,KAAA,CAAAoB,WAAW,CAACf,IAAI,GAAAK,MAAA;IAAEP,EAAE,EAAC,MAAM;IAACkB,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR;iDAAxCtB,KAAA,CAAAoB,WAAW,CAACf,IAAI,E,KAElCT,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAgC;IAAzBuB,GAAG,EAAC;EAAO,GAAC,OAAK,sB,gBACxBvB,mBAAA,CAAsE;IA7BhF,uBAAAmB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IA6B0BV,KAAA,CAAAoB,WAAW,CAACd,KAAK,GAAAI,MAAA;IAAEP,EAAE,EAAC,OAAO;IAACkB,IAAI,EAAC,OAAO;IAACC,QAAQ,EAAR;iDAA3CtB,KAAA,CAAAoB,WAAW,CAACd,KAAK,E,+BAEnCV,mBAAA,CAAmC;IAA3ByB,IAAI,EAAC;EAAQ,GAAC,MAAI,qB,8BAI9BxB,mBAAA,YAAe,EACJG,KAAA,CAAAuB,eAAe,I,cAA1B5B,mBAAA,CAaM,OAjDV6B,UAAA,G,4BAqCM5B,mBAAA,CAAe,YAAX,QAAM,sBACVA,mBAAA,CAUO;IAVAkB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAtCnBC,cAAA,KAAAC,IAAA,KAsC6BN,QAAA,CAAAc,cAAA,IAAAd,QAAA,CAAAc,cAAA,IAAAR,IAAA,CAAc;MACnCrB,mBAAA,CAGM,c,4BAFJA,mBAAA,CAAiC;IAA1BuB,GAAG,EAAC;EAAU,GAAC,KAAG,sB,gBACzBvB,mBAAA,CAA2E;IAzCrF,uBAAAmB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAyC0BV,KAAA,CAAAuB,eAAe,CAAClB,IAAI,GAAAK,MAAA;IAAEP,EAAE,EAAC,UAAU;IAACkB,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR;iDAAhDtB,KAAA,CAAAuB,eAAe,CAAClB,IAAI,E,KAEtCT,mBAAA,CAGM,c,4BAFJA,mBAAA,CAAoC;IAA7BuB,GAAG,EAAC;EAAW,GAAC,OAAK,sB,gBAC5BvB,mBAAA,CAA8E;IA7CxF,uBAAAmB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IA6C0BV,KAAA,CAAAuB,eAAe,CAACjB,KAAK,GAAAI,MAAA;IAAEP,EAAE,EAAC,WAAW;IAACkB,IAAI,EAAC,OAAO;IAACC,QAAQ,EAAR;iDAAnDtB,KAAA,CAAAuB,eAAe,CAACjB,KAAK,E,iCAEvCV,mBAAA,CAAmC;IAA3ByB,IAAI,EAAC;EAAQ,GAAC,MAAI,qB,gCA/ClCxB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}