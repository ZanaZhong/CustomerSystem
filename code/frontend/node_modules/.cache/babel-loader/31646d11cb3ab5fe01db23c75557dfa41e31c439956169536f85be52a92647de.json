{"ast":null,"code":"import axios from '../axios';\nexport default {\n  data() {\n    return {\n      customers: [],\n      newCustomer: {\n        name: '',\n        email: ''\n      },\n      currentCustomer: null,\n      editMode: false\n    };\n  },\n  methods: {\n    fetchCustomers() {\n      axios.get('/customers').then(response => {\n        this.customers = response.data;\n      });\n    },\n    addCustomer() {\n      axios.post('/customers', this.newCustomer).then(() => {\n        this.newCustomer = {\n          name: '',\n          email: ''\n        };\n        this.fetchCustomers();\n      });\n    },\n    editCustomer(customer) {\n      this.currentCustomer = {\n        ...customer\n      };\n      this.editMode = true;\n    },\n    updateCustomer() {\n      axios.put(`/customers/${this.currentCustomer.id}`, this.currentCustomer).then(() => {\n        this.currentCustomer = null;\n        this.editMode = false;\n        this.fetchCustomers();\n      });\n    }\n  },\n  mounted() {\n    this.fetchCustomers();\n  }\n};","map":{"version":3,"names":["axios","data","customers","newCustomer","name","email","currentCustomer","editMode","methods","fetchCustomers","get","then","response","addCustomer","post","editCustomer","customer","updateCustomer","put","id","mounted"],"sources":["/Users/zana/Pretest/code/frontend/src/components/CustomerPage.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>客戶清單</h1>\n    <ul>\n      <li v-for=\"customer in customers\" :key=\"customer.id\">\n        {{ customer.name }} ({{ customer.email }}) - 過去一年總金額: {{ customer.total_amount_last_year }}\n        <button @click=\"editCustomer(customer)\">編輯</button>\n      </li>\n    </ul>\n    <h2>新增客戶</h2>\n    <form @submit.prevent=\"addCustomer\">\n      <input v-model=\"newCustomer.name\" placeholder=\"姓名\" />\n      <input v-model=\"newCustomer.email\" placeholder=\"Email\" />\n      <button type=\"submit\">新增</button>\n    </form>\n    <div v-if=\"editMode\">\n      <h2>修改客戶</h2>\n      <form @submit.prevent=\"updateCustomer\">\n        <input v-model=\"currentCustomer.name\" placeholder=\"姓名\" />\n        <input v-model=\"currentCustomer.email\" placeholder=\"Email\" />\n        <button type=\"submit\">更新</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from '../axios';\n\nexport default {\n  data() {\n    return {\n      customers: [],\n      newCustomer: { name: '', email: '' },\n      currentCustomer: null,\n      editMode: false,\n    };\n  },\n  methods: {\n    fetchCustomers() {\n      axios.get('/customers').then((response) => {\n        this.customers = response.data;\n      });\n    },\n    addCustomer() {\n      axios.post('/customers', this.newCustomer).then(() => {\n        this.newCustomer = { name: '', email: '' };\n        this.fetchCustomers();\n      });\n    },\n    editCustomer(customer) {\n      this.currentCustomer = { ...customer };\n      this.editMode = true;\n    },\n    updateCustomer() {\n      axios.put(`/customers/${this.currentCustomer.id}`, this.currentCustomer).then(() => {\n        this.currentCustomer = null;\n        this.editMode = false;\n        this.fetchCustomers();\n      });\n    },\n  },\n  mounted() {\n    this.fetchCustomers();\n  },\n};\n</script>\n"],"mappings":"AA2BA,OAAOA,KAAI,MAAO,UAAU;AAE5B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC;MACpCC,eAAe,EAAE,IAAI;MACrBC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACfT,KAAK,CAACU,GAAG,CAAC,YAAY,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;QACzC,IAAI,CAACV,SAAQ,GAAIU,QAAQ,CAACX,IAAI;MAChC,CAAC,CAAC;IACJ,CAAC;IACDY,WAAWA,CAAA,EAAG;MACZb,KAAK,CAACc,IAAI,CAAC,YAAY,EAAE,IAAI,CAACX,WAAW,CAAC,CAACQ,IAAI,CAAC,MAAM;QACpD,IAAI,CAACR,WAAU,GAAI;UAAEC,IAAI,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAG,CAAC;QAC1C,IAAI,CAACI,cAAc,CAAC,CAAC;MACvB,CAAC,CAAC;IACJ,CAAC;IACDM,YAAYA,CAACC,QAAQ,EAAE;MACrB,IAAI,CAACV,eAAc,GAAI;QAAE,GAAGU;MAAS,CAAC;MACtC,IAAI,CAACT,QAAO,GAAI,IAAI;IACtB,CAAC;IACDU,cAAcA,CAAA,EAAG;MACfjB,KAAK,CAACkB,GAAG,CAAC,cAAc,IAAI,CAACZ,eAAe,CAACa,EAAE,EAAE,EAAE,IAAI,CAACb,eAAe,CAAC,CAACK,IAAI,CAAC,MAAM;QAClF,IAAI,CAACL,eAAc,GAAI,IAAI;QAC3B,IAAI,CAACC,QAAO,GAAI,KAAK;QACrB,IAAI,CAACE,cAAc,CAAC,CAAC;MACvB,CAAC,CAAC;IACJ;EACF,CAAC;EACDW,OAAOA,CAAA,EAAG;IACR,IAAI,CAACX,cAAc,CAAC,CAAC;EACvB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}