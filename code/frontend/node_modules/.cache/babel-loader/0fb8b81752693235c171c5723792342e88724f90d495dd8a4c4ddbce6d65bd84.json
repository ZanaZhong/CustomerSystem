{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"customer-page\"\n};\nconst _hoisted_2 = {\n  class: \"form-section\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"table-section\"\n};\nconst _hoisted_6 = {\n  class: \"customer-table\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"form-section\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[15] || (_cache[15] = _createElementVNode(\"h1\", null, \"客戶資料\", -1)), _createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"h2\", null, \"新增客戶\", -1)), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.submitNewCustomer && $options.submitNewCustomer(...args), [\"prevent\"])),\n    class: \"form\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"名稱\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newCustomer.name = $event),\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newCustomer.name]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"電子郵件\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newCustomer.email = $event),\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newCustomer.email]])]), _cache[8] || (_cache[8] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"新增客戶\", -1))], 32)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"table\", _hoisted_6, [_cache[10] || (_cache[10] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"客戶名稱\"), _createElementVNode(\"th\", null, \"電子郵件\"), _createElementVNode(\"th\", null, \"去年總交易金額\"), _createElementVNode(\"th\", null, \"操作\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.customers, customer => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: customer.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(customer.name), 1), _createElementVNode(\"td\", null, _toDisplayString(customer.email), 1), _createElementVNode(\"td\", null, _toDisplayString(customer.total_amount_last_year), 1), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.editCustomer(customer),\n      class: \"btn btn-secondary\"\n    }, \" 編輯 \", 8, _hoisted_7)])]);\n  }), 128))])])]), $data.editingCustomer ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_cache[14] || (_cache[14] = _createElementVNode(\"h3\", null, \"編輯客戶\", -1)), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.submitUpdate && $options.submitUpdate(...args), [\"prevent\"])),\n    class: \"form\"\n  }, [_createElementVNode(\"div\", _hoisted_9, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"editName\"\n  }, \"名稱\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"editName\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editingCustomer.name = $event),\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.editingCustomer.name]])]), _createElementVNode(\"div\", _hoisted_10, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"editEmail\"\n  }, \"電子郵件\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"editEmail\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editingCustomer.email = $event),\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.editingCustomer.email]])]), _cache[13] || (_cache[13] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"更新資料\", -1))], 32)])) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitNewCustomer","_hoisted_3","for","type","id","$event","$data","newCustomer","name","required","_hoisted_4","email","_hoisted_5","_hoisted_6","_Fragment","_renderList","customers","customer","_toDisplayString","total_amount_last_year","onClick","editCustomer","_hoisted_7","editingCustomer","_hoisted_8","submitUpdate","_hoisted_9","_hoisted_10","_createCommentVNode"],"sources":["/Users/zana/Pretest/code/frontend/src/components/CustomerPage.vue"],"sourcesContent":["<template>\n  <div class=\"customer-page\">\n    <!-- 標題 -->\n    <h1>客戶資料</h1>\n\n    <!-- 新增客戶表單 -->\n    <div class=\"form-section\">\n      <h2>新增客戶</h2>\n      <form @submit.prevent=\"submitNewCustomer\" class=\"form\">\n        <div class=\"form-group\">\n          <label for=\"name\">名稱</label>\n          <input type=\"text\" id=\"name\" v-model=\"newCustomer.name\" required />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">電子郵件</label>\n          <input type=\"email\" id=\"email\" v-model=\"newCustomer.email\" required />\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">新增客戶</button>\n      </form>\n    </div>\n\n    <!-- 客戶表格 -->\n    <div class=\"table-section\">\n      <table class=\"customer-table\">\n        <thead>\n          <tr>\n            <th>客戶名稱</th>\n            <th>電子郵件</th>\n            <th>去年總交易金額</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"customer in customers\" :key=\"customer.id\">\n            <td>{{ customer.name }}</td>\n            <td>{{ customer.email }}</td>\n            <td>{{ customer.total_amount_last_year }}</td>\n            <td>\n              <button @click=\"editCustomer(customer)\" class=\"btn btn-secondary\">\n                編輯\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- 編輯客戶表單 -->\n    <div v-if=\"editingCustomer\" class=\"form-section\">\n      <h3>編輯客戶</h3>\n      <form @submit.prevent=\"submitUpdate\" class=\"form\">\n        <div class=\"form-group\">\n          <label for=\"editName\">名稱</label>\n          <input\n            type=\"text\"\n            id=\"editName\"\n            v-model=\"editingCustomer.name\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"editEmail\">電子郵件</label>\n          <input\n            type=\"email\"\n            id=\"editEmail\"\n            v-model=\"editingCustomer.email\"\n            required\n          />\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">更新資料</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      customers: [],\n      newCustomer: {\n        name: \"\",\n        email: \"\",\n      },\n      editingCustomer: null,\n      isUpdating: false,\n    };\n  },\n  mounted() {\n    this.fetchCustomers();\n  },\n  methods: {\n    async fetchCustomers() {\n      try {\n        const response = await axios.get(\"http://localhost:8888/customers\");\n        this.customers = response.data;\n      } catch (error) {\n        console.error(\"無法取得客戶資料\", error);\n      }\n    },\n\n    async submitNewCustomer() {\n      try {\n        await axios.post(\"http://localhost:8888/customers\", this.newCustomer);\n        alert(\"新增成功！\");\n        this.fetchCustomers();\n        this.newCustomer = { name: \"\", email: \"\" };\n      } catch (error) {\n        console.error(\"新增失敗\", error);\n      }\n    },\n\n    editCustomer(customer) {\n      this.editingCustomer = { ...customer };\n    },\n\n    async submitUpdate() {\n      this.isUpdating = true;\n      try {\n        await axios.put(\n          `http://localhost:8888/customers/${this.editingCustomer.id}`,\n          this.editingCustomer\n        );\n        await this.fetchCustomers();\n        alert(\"更新成功！\");\n        this.editingCustomer = null;\n      } catch (error) {\n        console.error(\"更新失敗\", error);\n      } finally {\n        this.isUpdating = false;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n/* 基本重置 */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: \"Arial\", sans-serif;\n}\n\n/* 整體頁面設計 */\n.customer-page {\n  background-color: #f4f6f8;\n  padding: 20px;\n}\n\n/* 標題樣式 */\nh1,\nh2,\nh3 {\n  text-align: center;\n  color: #2c3e50;\n  margin-bottom: 10px;\n}\n\n/* 表單區塊 */\n.form-section {\n  background-color: #ffffff;\n  padding: 20px;\n  margin: 20px auto;\n  border-radius: 8px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n  max-width: 500px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: bold;\n  color: #34495e;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  transition: border-color 0.3s;\n}\n\n.form-group input:focus {\n  border-color: #3498db;\n  outline: none;\n}\n\n/* 按鈕樣式 */\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s, color 0.3s;\n}\n\n.btn-primary {\n  background-color: #3498db;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background-color: #2980b9;\n}\n\n.btn-secondary {\n  background-color: #f39c12;\n  color: #fff;\n}\n\n.btn-secondary:hover {\n  background-color: #e67e22;\n}\n\n/* 表格區塊 */\n.table-section {\n  margin: 20px auto;\n  max-width: 1000px;\n}\n\n.customer-table {\n  width: 100%;\n  border-collapse: collapse;\n  background-color: #ffffff;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.customer-table th,\n.customer-table td {\n  padding: 10px 15px;\n  border: 1px solid #ddd;\n  text-align: center;\n}\n\n.customer-table th {\n  background-color: #2c3e50;\n  color: #ffffff;\n}\n\n.customer-table tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.customer-table tr:hover {\n  background-color: #f1f1f1;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}