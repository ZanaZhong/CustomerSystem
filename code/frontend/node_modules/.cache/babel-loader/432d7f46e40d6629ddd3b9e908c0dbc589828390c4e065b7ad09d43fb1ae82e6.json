{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      customers: [],\n      selectedCustomerId: null,\n      startDate: '',\n      endDate: '',\n      transactions: []\n    };\n  },\n  mounted() {\n    this.fetchCustomers();\n  },\n  methods: {\n    // 獲取所有客戶資料\n    async fetchCustomers() {\n      try {\n        const response = await axios.get('http://localhost:8888/customers');\n        this.customers = response.data;\n      } catch (error) {\n        console.error('無法取得客戶資料', error);\n      }\n    },\n    // 查詢指定客戶及時間範圍的交易紀錄\n    async fetchCustomerTransactions() {\n      try {\n        const response = await axios.get(`http://localhost:8888/transactions/${this.selectedCustomerId}`, {\n          params: {\n            startDate: this.startDate,\n            endDate: this.endDate\n          }\n        });\n        this.transactions = response.data; // 使用正確格式解析資料\n      } catch (error) {\n        alert(`查詢失敗: ${error.response?.data?.error || '伺服器錯誤'}`);\n        console.error('查詢交易紀錄失敗', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","customers","selectedCustomerId","startDate","endDate","transactions","mounted","fetchCustomers","methods","response","get","error","console","fetchCustomerTransactions","params","alert"],"sources":["/app/src/components/TransactionPage.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <h1 class=\"text-center mb-4\">客戶資料</h1>\n\n    <!-- 交易紀錄查詢表單 -->\n    <h2 class=\"mb-3\">查詢客戶交易紀錄</h2>\n    <form @submit.prevent=\"fetchCustomerTransactions\" class=\"card p-4 shadow-sm\">\n      <div class=\"form-group\">\n        <label for=\"customerSelect\" class=\"form-label\">選擇客戶</label>\n        <select v-model=\"selectedCustomerId\" id=\"customerSelect\" class=\"form-control\" required>\n          <option v-for=\"customer in customers\" :key=\"customer.id\" :value=\"customer.id\">\n            {{ customer.name }}\n          </option>\n        </select>\n      </div>\n\n      <div class=\"form-group mt-3\">\n        <label for=\"startDate\" class=\"form-label\">開始日期</label>\n        <input type=\"date\" id=\"startDate\" v-model=\"startDate\" class=\"form-control\" required />\n      </div>\n\n      <div class=\"form-group mt-3\">\n        <label for=\"endDate\" class=\"form-label\">結束日期</label>\n        <input type=\"date\" id=\"endDate\" v-model=\"endDate\" class=\"form-control\" required />\n      </div>\n\n      <button type=\"submit\" class=\"btn btn-primary btn-block mt-4\">查詢交易紀錄</button>\n    </form>\n\n    <!-- 顯示交易紀錄 -->\n    <div v-if=\"transactions.length > 0\" class=\"mt-4\">\n      <h3>交易紀錄</h3>\n      <table class=\"table table-bordered table-striped customer-table\" >\n        <thead>\n          <tr>\n            <th>客戶</th>\n            <th>交易日期</th>\n            <th>金額</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"transaction in transactions\" :key=\"transaction.id\">\n            <td>{{ transaction.id }}</td>\n            <td>{{ transaction.date }}</td>\n            <td>{{ transaction.amount }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <p v-else class=\"mt-3 text-center\">尚未查詢到交易紀錄</p>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      customers: [],\n      selectedCustomerId: null,\n      startDate: '',\n      endDate: '',\n      transactions: [],\n    };\n  },\n  mounted() {\n    this.fetchCustomers();\n  },\n  methods: {\n    // 獲取所有客戶資料\n    async fetchCustomers() {\n      try {\n        const response = await axios.get('http://localhost:8888/customers');\n        this.customers = response.data;\n      } catch (error) {\n        console.error('無法取得客戶資料', error);\n      }\n    },\n\n    // 查詢指定客戶及時間範圍的交易紀錄\n    async fetchCustomerTransactions() {\n      try {\n        const response = await axios.get(`http://localhost:8888/transactions/${this.selectedCustomerId}`, {\n          params: {\n            startDate: this.startDate,\n            endDate: this.endDate,\n          },\n        });\n        this.transactions = response.data; // 使用正確格式解析資料\n      } catch (error) {\n        alert(`查詢失敗: ${error.response?.data?.error || '伺服器錯誤'}`);\n        console.error('查詢交易紀錄失敗', error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  max-width: 600px;\n  margin: auto;\n}\n\n.form-group label {\n  font-weight: bold;\n}\n\n.form-control {\n  border-radius: 4px;\n}\n\n.btn-block {\n  width: 100%;\n}\n\n.table th {\n  background-color: #f8f9fa;\n}\n\n.table-bordered {\n  border: 1px solid #dee2e6;\n}\n\n.table th, .table td {\n  text-align: center;\n}\n\n.customer-table th,\n.customer-table td {\n  padding: 10px 15px;\n  border: 1px solid #ddd;\n  text-align: center;\n}\n\n.customer-table th {\n  background-color: #2c3e50;\n  color: #ffffff;\n}\n\n.customer-table tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.customer-table tr:hover {\n  background-color: #f1f1f1;\n}\n\n/* 響應式 */\n@media (max-width: 768px) {\n  .container {\n    padding: 15px;\n  }\n  .card {\n    margin-top: 20px;\n  }\n}\n\n/* 針對不同尺寸的 mt-* 類別設定，控制上邊距 */\n.mt-0 {\n  margin-top: 0 !important;\n}\n\n.mt-1 {\n  margin-top: 0.25rem !important;\n}\n\n.mt-2 {\n  margin-top: 0.5rem !important;\n}\n\n.mt-3 {\n  margin-top: 1rem !important;\n}\n\n.mt-4 {\n  margin-top: 1.5rem !important;\n}\n\n.mt-5 {\n  margin-top: 3rem !important;\n}\n\n/* 對於更大的邊距設定 */\n.mt-auto {\n  margin-top: auto !important; /* 自動調整上邊距 */\n}\n\n</style>\n\n<link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\n\n"],"mappings":"AAsDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,kBAAkB,EAAE,IAAI;MACxBC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,OAAO,EAAE;IACP;IACA,MAAMD,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,iCAAiC,CAAC;QACnE,IAAI,CAACT,SAAQ,GAAIQ,QAAQ,CAACT,IAAI;MAChC,EAAE,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,UAAU,EAAEA,KAAK,CAAC;MAClC;IACF,CAAC;IAED;IACA,MAAME,yBAAyBA,CAAA,EAAG;MAChC,IAAI;QACF,MAAMJ,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,sCAAsC,IAAI,CAACR,kBAAkB,EAAE,EAAE;UAChGY,MAAM,EAAE;YACNX,SAAS,EAAE,IAAI,CAACA,SAAS;YACzBC,OAAO,EAAE,IAAI,CAACA;UAChB;QACF,CAAC,CAAC;QACF,IAAI,CAACC,YAAW,GAAII,QAAQ,CAACT,IAAI,EAAE;MACrC,EAAE,OAAOW,KAAK,EAAE;QACdI,KAAK,CAAC,SAASJ,KAAK,CAACF,QAAQ,EAAET,IAAI,EAAEW,KAAI,IAAK,OAAO,EAAE,CAAC;QACxDC,OAAO,CAACD,KAAK,CAAC,UAAU,EAAEA,KAAK,CAAC;MAClC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}